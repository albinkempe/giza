import"../chunks/DsnmJJEf.js";import{i as pe}from"../chunks/G8IXx4_o.js";import{A as be,h as re,af as et,C as He,x as tt,w as st,f as u,W as rt,y as at,H as ot,z as Ie,B as Re,K as le,ag as nt,ak as it,D as Be,G as ct,F as lt,ao as Ve,ac as ft,Q as Ue,aJ as Oe,aK as De,I as qe,J as dt,aL as ye,aM as Le,aN as We,aO as ge,aP as ut,ai as vt,aQ as mt,an as pt,aR as yt,Z as gt,aS as Fe,ad as ht,aT as _t,p as he,l as D,q as x,d,i as y,v as B,s as L,t as H,n as b,o as _e,a6 as ae,m as te,aI as ke,aH as de,aU as ue,R as Te}from"../chunks/LRZBNtRS.js";import{w as wt,s as Y,c as bt,e as Ce}from"../chunks/nlGExX9J.js";import{p as fe,i as V,s as Rt,a as Lt}from"../chunks/WwQO-R3r.js";import{s as P}from"../chunks/DEv96aKz.js";function J(r,t){return t}function kt(r,t,e){for(var o=r.items,i=[],s=t.length,a=0;a<s;a++)mt(t[a].e,i,!0);var p=s>0&&i.length===0&&e!==null;if(p){var U=e.parentNode;pt(U),U.append(e),o.clear(),ee(r,t[0].prev,t[s-1].next)}yt(i,()=>{for(var w=0;w<s;w++){var n=t[w];p||(o.delete(n.k),ee(r,n.prev,n.next)),We(n.e,!p)}})}function X(r,t,e,o,i,s=null){var a=r,p={flags:t,items:new Map,first:null},U=(t&Fe)!==0;if(U){var w=r;a=re?be(et(w)):w.appendChild(He())}re&&tt();var n=null,c=!1,k=new Map,E=rt(()=>{var S=e();return ft(S)?S:S==null?[]:Ve(S)}),l,g;function v(){Ct(g,l,p,k,a,i,t,o,e),s!==null&&(l.length===0?n?qe(n):n=Be(()=>s(a)):n!==null&&dt(n,()=>{n=null}))}st(()=>{g??=gt,l=u(E);var S=l.length;if(c&&S===0)return;c=S===0;let T=!1;if(re){var $=at(a)===ot;$!==(S===0)&&(a=Ie(),be(a),Re(!1),T=!0)}if(re){for(var G=null,C,f=0;f<S;f++){if(le.nodeType===nt&&le.data===it){a=le,T=!0,Re(!1);break}var h=l[f],M=o(h,f);C=xe(le,p,G,null,h,M,f,i,t,e),p.items.set(M,C),G=C}S>0&&be(Ie())}if(re)S===0&&s&&(n=Be(()=>s(a)));else if(ct()){var _=new Set,I=lt;for(f=0;f<S;f+=1){h=l[f],M=o(h,f);var W=p.items.get(M)??k.get(M);W?(t&(ge|ye))!==0&&Ye(W,h,f,t):(C=xe(null,p,null,null,h,M,f,i,t,e,!0),k.set(M,C)),_.add(M)}for(const[N,m]of p.items)_.has(N)||I.skipped_effects.add(m.e);I.add_callback(v)}else v();T&&Re(!0),u(E)}),re&&(a=le)}function Ct(r,t,e,o,i,s,a,p,U){var w=(a&_t)!==0,n=(a&(ge|ye))!==0,c=t.length,k=e.items,E=e.first,l=E,g,v=null,S,T=[],$=[],G,C,f,h;if(w)for(h=0;h<c;h+=1)G=t[h],C=p(G,h),f=k.get(C),f!==void 0&&(f.a?.measure(),(S??=new Set).add(f));for(h=0;h<c;h+=1){if(G=t[h],C=p(G,h),f=k.get(C),f===void 0){var M=o.get(C);if(M!==void 0){o.delete(C),k.set(C,M);var _=v?v.next:l;ee(e,v,M),ee(e,M,_),Ae(M,_,i),v=M}else{var I=l?l.e.nodes_start:i;v=xe(I,e,v,v===null?e.first:v.next,G,C,h,s,a,U)}k.set(C,v),T=[],$=[],l=v.next;continue}if(n&&Ye(f,G,h,a),(f.e.f&Le)!==0&&(qe(f.e),w&&(f.a?.unfix(),(S??=new Set).delete(f))),f!==l){if(g!==void 0&&g.has(f)){if(T.length<$.length){var W=$[0],N;v=W.prev;var m=T[0],R=T[T.length-1];for(N=0;N<T.length;N+=1)Ae(T[N],W,i);for(N=0;N<$.length;N+=1)g.delete($[N]);ee(e,m.prev,R.next),ee(e,v,m),ee(e,R,W),l=W,v=R,h-=1,T=[],$=[]}else g.delete(f),Ae(f,l,i),ee(e,f.prev,f.next),ee(e,f,v===null?e.first:v.next),ee(e,v,f),v=f;continue}for(T=[],$=[];l!==null&&l.k!==C;)(l.e.f&Le)===0&&(g??=new Set).add(l),$.push(l),l=l.next;if(l===null)continue;f=l}T.push(f),v=f,l=f.next}if(l!==null||g!==void 0){for(var z=g===void 0?[]:Ve(g);l!==null;)(l.e.f&Le)===0&&z.push(l),l=l.next;var q=z.length;if(q>0){var A=(a&Fe)!==0&&c===0?i:null;if(w){for(h=0;h<q;h+=1)z[h].a?.measure();for(h=0;h<q;h+=1)z[h].a?.fix()}kt(e,z,A)}}w&&ht(()=>{if(S!==void 0)for(f of S)f.a?.apply()}),r.first=e.first&&e.first.e,r.last=v&&v.e;for(var O of o.values())We(O.e);o.clear()}function Ye(r,t,e,o){(o&ge)!==0&&De(r.v,t),(o&ye)!==0?De(r.i,e):r.i=e}function xe(r,t,e,o,i,s,a,p,U,w,n){var c=(U&ge)!==0,k=(U&ut)===0,E=c?k?Ue(i,!1,!1):Oe(i):i,l=(U&ye)===0?a:Oe(a),g={i:l,v:E,k:s,a:null,e:null,prev:e,next:o};try{if(r===null){var v=document.createDocumentFragment();v.append(r=He())}return g.e=Be(()=>p(r,E,l,w),re),g.e.prev=e&&e.e,g.e.next=o&&o.e,e===null?n||(t.first=g):(e.next=g,e.e.next=g.e),o!==null&&(o.prev=g,o.e.prev=g.e),g}finally{}}function Ae(r,t,e){for(var o=r.next?r.next.e.nodes_start:e,i=t?t.e.nodes_start:e,s=r.e.nodes_start;s!==null&&s!==o;){var a=vt(s);i.before(s),s=a}}function ee(r,t,e){t===null?r.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}const $e=[...` 	
\r\fÂ \v\uFEFF`];function At(r,t,e){var o=r==null?"":""+r;if(t&&(o=o?o+" "+t:t),e){for(var i in e)if(e[i])o=o?o+" "+i:i;else if(o.length)for(var s=i.length,a=0;(a=o.indexOf(i,a))>=0;){var p=a+s;(a===0||$e.includes(o[a-1]))&&(p===o.length||$e.includes(o[p]))?o=(a===0?"":o.substring(0,a))+o.substring(p+1):a=p}}return o===""?null:o}function Se(r,t,e,o,i,s){var a=r.__className;if(re||a!==e||a===void 0){var p=At(e,o,s);(!re||p!==r.getAttribute("class"))&&(p==null?r.removeAttribute("class"):r.className=p),r.__className=e}else if(s&&i!==s)for(var U in s){var w=!!s[U];(i==null||w!==!!i[U])&&r.classList.toggle(U,w)}return s}const Bt=!1,Ut=!0,sr=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ut,ssr:Bt},Symbol.toStringTag,{value:"Module"})),xt=[{id:1,name:"The Great Pyramid of Giza",baseResource:"stone",stages:[{cost:{wood:2},effect:{points:3}},{cost:{clay:2,cloth:1},effect:{points:5}},{cost:{stone:4},effect:{points:7}}]},{id:2,name:"Hanging Gardens of Babylon",baseResource:"wood",stages:[{cost:{clay:2},effect:{points:3}},{cost:{ore:2,cloth:1},effect:{coins:6}},{cost:{wood:4},effect:{points:7}}]},{id:3,name:"Statue of Zeus at Olympia",baseResource:"clay",stages:[{cost:{stone:2},effect:{points:3}},{cost:{wood:2},effect:{military:1}},{cost:{clay:3},effect:{points:7}}]},{id:4,name:"Temple of Artemis at Ephesus",baseResource:"papyrus",stages:[{cost:{clay:2},effect:{points:3}},{cost:{wood:2},effect:{coins:9}},{cost:{ore:2,glass:1},effect:{points:7}}]},{id:5,name:"Mausoleum at Halicarnassus",baseResource:"cloth",stages:[{cost:{ore:2},effect:{points:3}},{cost:{glass:1,papyrus:1},effect:{coins:9}},{cost:{stone:3},effect:{points:7}}]},{id:6,name:"Colossus of Rhodes",baseResource:"ore",stages:[{cost:{wood:2},effect:{points:3}},{cost:{clay:3},effect:{military:2}},{cost:{ore:4},effect:{points:7}}]},{id:7,name:"Lighthouse of Alexandria",baseResource:"glass",stages:[{cost:{stone:2},effect:{resources:{glass:1}}},{cost:{ore:2},effect:{points:5}},{cost:{papyrus:1,cloth:1},effect:{points:7}}]},{id:8,name:"Uppsala Cathedral",baseResource:"clay",stages:[{cost:{stone:2},effect:{coins:3}},{cost:{papyrus:2},effect:{points:5}},{cost:{clay:2,ore:1},effect:{points:7}}]},{id:9,name:"Lindvalls Coffee",baseResource:"coffee",stages:[{cost:{clay:2},effect:{resources:{coffee:1}}},{cost:{glass:2},effect:{resources:{coffee:1}}},{cost:{stone:2},effect:{resources:{coffee:1}}}]}];function Ee(){return[{id:1,name:"Lumber Yard",type:"resource",effect:{resources:{wood:1}}},{id:2,name:"Stone Pit",type:"resource",effect:{resources:{stone:1}}},{id:3,name:"Barracks",type:"military",effect:{military:1}},{id:4,name:"Theater",type:"civilian",effect:{points:3}},{id:5,name:"Marketplace",type:"commerce",effect:{coins:3}},{id:6,name:"Clay Pool",type:"resource",effect:{resources:{clay:1}}},{id:7,name:"Ore Vein",type:"resource",effect:{resources:{ore:1}}},{id:8,name:"Timber Yard",type:"resource",cost:{coins:1},effect:{resources:{wood:2}}},{id:9,name:"Stone Pit",type:"resource",effect:{resources:{stone:1}}},{id:10,name:"Guard Tower",type:"military",effect:{military:1}},{id:11,name:"Altar",type:"civilian",effect:{points:3}},{id:12,name:"Marketplace",type:"commerce",effect:{coins:3}},{id:13,name:"Clay Pit",type:"resource",cost:{coins:1},effect:{resources:{clay:2}}},{id:14,name:"Ore Vein",type:"resource",effect:{resources:{ore:1}}},{id:15,name:"Lumber Yard",type:"resource",effect:{resources:{wood:1}}},{id:16,name:"Excavation",type:"resource",cost:{coins:1},effect:{resources:{stone:2}}},{id:17,name:"Stockade",type:"military",effect:{military:1}},{id:18,name:"Baths",type:"civilian",effect:{points:3}},{id:19,name:"Mercenary Camp",type:"military",temporary:!0,cost:{coins:1},effect:{military:1}},{id:20,name:"Clay Pool",type:"resource",effect:{resources:{clay:1}}},{id:21,name:"Mine",type:"resource",cost:{coins:1},effect:{resources:{ore:2}}}]}function Qe(){return[{id:22,name:"Sawmill",type:"resource",cost:{coins:1},effect:{resources:{wood:2}}},{id:23,name:"Quarry",type:"resource",cost:{coins:1},effect:{resources:{stone:2}}},{id:24,name:"Brickyard",type:"resource",cost:{coins:1},effect:{resources:{clay:2}}},{id:25,name:"Foundry",type:"resource",cost:{coins:1},effect:{resources:{ore:2}}},{id:26,name:"Glassworks",type:"resource",effect:{resources:{glass:1}}},{id:27,name:"Press",type:"resource",effect:{resources:{papyrus:1}}},{id:28,name:"Loom",type:"resource",effect:{resources:{cloth:1}}},{id:29,name:"Stables",type:"military",cost:{wood:1,clay:1,ore:1},altcost:10,effect:{military:2}},{id:30,name:"Archery Range",type:"military",cost:{wood:2,ore:1},effect:{military:2}},{id:31,name:"Walls",type:"military",cost:{stone:3},effect:{military:2}},{id:32,name:"Free Company",type:"military",temporary:!0,cost:{coins:5},effect:{military:3}},{id:33,name:"Temple",type:"civilian",cost:{wood:1,clay:1,glass:1},effect:{points:4}},{id:34,name:"Statue",type:"civilian",cost:{ore:2,wood:1},altcost:11,effect:{points:4}},{id:35,name:"Aqueduct",type:"civilian",cost:{stone:3},effect:{points:5}},{id:36,name:"Courthouse",type:"civilian",cost:{clay:2,cloth:1},effect:{points:4}},{id:37,name:"Forum",type:"commerce",cost:{clay:2},effect:{coins:3,resources:{glass:1,papyrus:1}}},{id:38,name:"Caravansery",type:"commerce",cost:{wood:2},effect:{coins:3,resources:{wood:1,stone:1,clay:1,ore:1}}},{id:39,name:"Roastery",type:"resource",cost:{clay:2},effect:{resources:{coffee:1}}},{id:40,name:"Bazar",type:"commerce",effect:{coins:3}},{id:41,name:"Spice Market",type:"resource",cost:{wood:1,cloth:1},effect:{resources:{spice:1}}},{id:42,name:"Library",type:"civilian",cost:{stone:2,glass:1},effect:{points:4}}]}function Ze(){return[{id:43,name:"Arsenal",type:"resource",cost:{coins:3},effect:{resources:{wood:2,ore:1}}},{id:44,name:"Palace Gardens",type:"resource",cost:{coins:3},effect:{resources:{stone:2,clay:1}}},{id:45,name:"Pantheon",type:"resource",cost:{coins:3},effect:{resources:{glass:1,papyrus:1,cloth:1}}},{id:46,name:"Fortifications",type:"military",cost:{stone:2,ore:2},effect:{military:3}},{id:47,name:"Siege Workshop",type:"military",cost:{wood:2,clay:1,ore:1},effect:{military:3}},{id:48,name:"Circus",type:"military",cost:{stone:3,ore:1},effect:{military:3}},{id:49,name:"Arsenal",type:"military",cost:{wood:2,ore:2,cloth:1},effect:{military:3}},{id:50,name:"Palace",type:"civilian",cost:{wood:1,stone:1,clay:1,ore:1,glass:1,papyrus:1,cloth:1},effect:{points:8}},{id:51,name:"Town Hall",type:"civilian",cost:{stone:2,ore:1,glass:1},effect:{points:6}},{id:52,name:"Pantheon",type:"civilian",cost:{clay:2,papyrus:1,glass:1},effect:{points:7}},{id:53,name:"Gardens",type:"civilian",cost:{clay:2,wood:1},effect:{points:5}},{id:54,name:"Senate",type:"civilian",cost:{stone:2,wood:1,cloth:1},effect:{points:6}},{id:55,name:"Obelisk",type:"civilian",cost:{stone:2,ore:1},effect:{points:5}},{id:56,name:"Chamber of Commerce",type:"commerce",cost:{clay:2,papyrus:1},effect:{coins:5}},{id:57,name:"Supply Yard",type:"resource",cost:{stone:1,coins:5},effect:{resources:{wood:1,ore:1,clay:1}}},{id:58,name:"Lighthouse",type:"commerce",cost:{stone:1,glass:1},effect:{coins:4}},{id:59,name:"Arena",type:"commerce",cost:{stone:1,ore:1,papyrus:1},effect:{coins:5}},{id:60,name:"Stock Exchange",type:"commerce",cost:{ore:2,cloth:1},effect:{coins:5}},{id:61,name:"Harbor",type:"commerce",cost:{wood:1,glass:1},effect:{coins:5}},{id:62,name:"Customs House",type:"commerce",cost:{clay:1,papyrus:1},effect:{coins:4}},{id:63,name:"Grand Bazaar",type:"commerce",cost:{coffee:1,spice:1,cloth:1},effect:{coins:5,points:8}}]}function me(r){return r.map(t=>({value:t,sort:Math.random()})).sort((t,e)=>t.sort-e.sort).map(({value:t})=>t)}function St(r){return xt.map(e=>({w:e,sort:Math.random()})).sort((e,o)=>e.sort-o.sort).map(({w:e})=>e).slice(0,r)}function Et(r,t){return{name:r,coins:3,military:0,score:0,resources:{[t.baseResource]:1},hand:[],built:[],wonder:t,wonderStagesBuilt:0}}function It(){const r=["You","Bot A","Bot B"],t=St(r.length),e=r.map((i,s)=>Et(i,t[s])),o=me(Ee());for(let i=0;i<e.length;i++)e[i].hand=o.splice(0,7);return{players:e,discard:[],age:1}}function Ot(r){let t;r.age===2?t=me(Qe()):r.age===3?t=me(Ze()):t=me(Ee());for(let e=0;e<r.players.length;e++)r.players[e].hand=t.splice(0,7)}const Me=wt(It()),Dt=""+new URL("../assets/age-1.BJE8dBrp.png",import.meta.url).href,Tt=""+new URL("../assets/age-2.BWAIcDqr.png",import.meta.url).href,$t=""+new URL("../assets/age-3.C94qqtx1.png",import.meta.url).href,Pe={1:Dt,2:Tt,3:$t};function Mt(r){if(r.hand.length!==0)return r.hand.reduce((t,e)=>{const o=Ge(t);return Ge(e)>o?e:t})}function Ge(r){return r.effect.resources?Object.values(r.effect.resources).reduce((t,e)=>t+(e??0),0):0}function Je(r,t){if(t){if(t.resources)for(const[e,o]of Object.entries(t.resources)){const i=o??0;r.resources[e]=(r.resources[e]||0)+i}typeof t.coins=="number"&&(r.coins=(r.coins||0)+t.coins),typeof t.military=="number"&&(r.military=(r.military||0)+t.military),typeof t.points=="number"&&(r.score=(r.score||0)+t.points)}}function Pt(r,t){t&&t.coins&&t.coins>0&&(r.coins=(r.coins||0)-t.coins)}function ie(r,t,e){if(!t||r.built.some(o=>o.id===e))return!0;if(t.coins&&(r.coins||0)<t.coins)return!1;for(const[o,i]of Object.entries(t))if(o!=="coins"&&(r.resources[o]||0)<(i||0))return!1;return!0}function Ne(r,t){if(!ie(r,t.cost,t.altcost)){console.warn(`${r.name} cannot afford ${t.name}`);return}Pt(r,t.cost),Je(r,t.effect),r.built.push(t)}function ze(r,t,e){if(!ie(r,e)){console.warn(`${r.name} cannot afford this wonder stage`);return}Je(r,t)}function Gt(r){const t=r.players,e=t.length;let o=0;switch(r.age){case 1:o=1;break;case 2:o=3;break;case 3:o=5;break;default:o=0}for(let i=0;i<e;i++){const s=t[i],a=t[(i+1)%e],p=t[(i-1+e)%e];(s.military||0)>(a.military||0)?s.score+=o:(s.military||0)<(a.military||0)&&(s.score-=1),(s.military||0)>(p.military||0)?s.score+=o:(s.military||0)<(p.military||0)&&(s.score-=1);const U=s.resources.coffee||0;s.score+=U,s.built=s.built.filter(w=>!w.temporary),s.resources={[s.wonder.baseResource]:1},s.military=s.built.reduce((w,n)=>w+(n.effect.military||0),0);for(const w of s.built)if(w.effect.resources)for(const[n,c]of Object.entries(w.effect.resources))s.resources[n]=(s.resources[n]||0)+(c||0);for(let w=0;w<s.wonderStagesBuilt;w++){const n=s.wonder.stages[w].effect;if(n.military&&(s.military+=n.military),n.points&&(s.score+=n.points),n.coins&&(s.coins+=n.coins),n.resources)for(const[c,k]of Object.entries(n.resources))s.resources[c]=(s.resources[c]||0)+k}}}function Nt(r,t,e){let o="",i=[];const s=structuredClone(r),a=s.players[0];if(e==="build"){if(a.built.some(c=>c.name===t.name))return o=`You already built "${t.name}", pick another card.`,{updatedGame:s,message:o,winners:i};if(!ie(a,t.cost,t.altcost))return o=`You don't have enough resources to build "${t.name}". Pick another card.`,{updatedGame:s,message:o,winners:i};const n=a.hand.findIndex(c=>c.id===t.id);if(n<0)return{updatedGame:s,message:o,winners:i};a.hand.splice(n,1),Ne(a,t)}else if(e==="sell"){const n=a.hand.findIndex(c=>c.id===t.id);if(n<0)return{updatedGame:s,message:o,winners:i};a.hand.splice(n,1),a.coins+=3}else if(e==="wonder")if(a.wonderStagesBuilt<a.wonder.stages.length){const n=a.wonder.stages[a.wonderStagesBuilt];if(!ie(a,n.cost))return o="You don't have enough resources to build this wonder stage!",{updatedGame:s,message:o,winners:i};const c=a.hand.findIndex(k=>k.id===t.id);if(c<0)return{updatedGame:s,message:o,winners:i};a.hand.splice(c,1),a.wonderStagesBuilt++,ze(a,n.effect,n.cost)}else return o="Your wonder is already complete!",{updatedGame:s,message:o,winners:i};for(let n=1;n<s.players.length;n++){const c=s.players[n],k=c.hand.filter(g=>!c.built.some(v=>v.name===g.name)&&ie(c,g.cost));let E,l="build";if(k.length>0)E=Mt({...c,hand:k}),l="build";else{if(c.wonderStagesBuilt<c.wonder.stages.length){const g=c.wonder.stages[c.wonderStagesBuilt];ie(c,g.cost)&&(E=c.hand[0],l="wonder")}!E&&c.hand.length>0&&(E=c.hand[0],l="sell")}if(E){const g=c.hand.findIndex(v=>v.id===E.id);if(g>=0){if(c.hand.splice(g,1),console.log("picked",E.name,"to",l,"for bot",c.name),l==="build")Ne(c,E);else if(l==="sell")c.coins+=3;else if(l==="wonder"){const v=c.wonder.stages[c.wonderStagesBuilt];c.wonderStagesBuilt++,ze(c,v.effect,v.cost)}}}}const p=s.players.map(n=>n.hand),U=[p[p.length-1],...p.slice(0,p.length-1)];for(let n=0;n<s.players.length;n++)s.players[n].hand=U[n],console.log(s.players[n].name,"s hand:",s.players[n].hand);if(s.players.some(n=>n.hand.length>0))!o.startsWith("You already built")&&!o.startsWith("You don't have enough resources")&&(o="Turn resolved. Next pick.");else if(Gt(s),s.age<3)s.age++,Ot(s),o=`End of Age ${s.age-1} finished. Scores updated. Age ${s.age} begins!`;else{const n=Math.max(...s.players.map(c=>c.score));i=s.players.filter(c=>c.score===n),o=`Game over! ${i.map(c=>c.wonder.name).join(", ")} won with ${n} points!`,console.log("Final scores:",s.players.map(c=>({name:c.name,score:c.score}))),console.log("Winners:",i)}return{updatedGame:{...s,players:s.players.map(n=>({...n,hand:[...n.hand],built:[...n.built]}))},message:o,winners:i}}const zt=""+new URL("../assets/giza.VVBVPHkf.png",import.meta.url).href,jt=""+new URL("../assets/babylon.DFluoLyw.png",import.meta.url).href,Ht=""+new URL("../assets/olympia.MIgPe3D6.png",import.meta.url).href,Vt=""+new URL("../assets/ephesos.BD1F0EdB.png",import.meta.url).href,qt=""+new URL("../assets/uppsala.DzCzligB.png",import.meta.url).href,Wt=""+new URL("../assets/lindvalls.JVtzja-w.png",import.meta.url).href,Ft=""+new URL("../assets/halikarnassos.FZljeaQc.png",import.meta.url).href,Yt=""+new URL("../assets/rhodos.DxVdnyVU.png",import.meta.url).href,Qt=""+new URL("../assets/alexandria.DiH0FkG7.png",import.meta.url).href,ve={1:zt,2:jt,3:Ht,4:Vt,5:Ft,6:Yt,7:Qt,8:qt,9:Wt},Zt=""+new URL("../assets/glass.cViTZEFt.png",import.meta.url).href,Jt=""+new URL("../assets/wood.8mMbf7v2.png",import.meta.url).href,Xt=""+new URL("../assets/stone.qIaZXg4X.png",import.meta.url).href,Kt=""+new URL("../assets/ore.BEo6Hnme.png",import.meta.url).href,es=""+new URL("../assets/clay.BkSNrCQv.png",import.meta.url).href,ts=""+new URL("../assets/coffee.BEH_fvhj.png",import.meta.url).href,ss=""+new URL("../assets/spice.CE-eP-kd.png",import.meta.url).href,rs=""+new URL("../assets/cloth.7hEfWQrA.png",import.meta.url).href,as=""+new URL("../assets/papyrus.Cenvg5J3.png",import.meta.url).href,os=""+new URL("../assets/military.CoMoyiE9.png",import.meta.url).href,ns=""+new URL("../assets/coin.BVeLvs8D.png",import.meta.url).href,is=""+new URL("../assets/coin-1.BRQ9sOaY.png",import.meta.url).href,cs=""+new URL("../assets/coin-3.c5OVTl5g.png",import.meta.url).href,ls=""+new URL("../assets/coin-4.Av_mxviy.png",import.meta.url).href,fs=""+new URL("../assets/coin-5.CVzNlNdL.png",import.meta.url).href,ds=""+new URL("../assets/victory.DD4OmmV1.png",import.meta.url).href,us=""+new URL("../assets/victory-1.D-XnFPMq.png",import.meta.url).href,vs=""+new URL("../assets/victory-2.CVwBGVWc.png",import.meta.url).href,ms=""+new URL("../assets/victory-3.CaoIER7o.png",import.meta.url).href,ps=""+new URL("../assets/victory-4.RDeBRlgz.png",import.meta.url).href,ys=""+new URL("../assets/victory-5.BBTjO1_4.png",import.meta.url).href,gs=""+new URL("../assets/victory-6.BZUvnQvq.png",import.meta.url).href,hs=""+new URL("../assets/victory-7.DCafhQbl.png",import.meta.url).href,_s=""+new URL("../assets/victory-8.B25pGN3O.png",import.meta.url).href,j={coffee:ts,wood:Jt,stone:Xt,ore:Kt,clay:es,glass:Zt,cloth:rs,papyrus:as,spice:ss,military:os,coin:ns,coin1:is,coin3:cs,coin4:ls,coin5:fs,victory:ds,victory1:us,victory2:vs,victory3:ms,victory4:ps,victory5:ys,victory6:gs,victory7:hs,victory8:_s};var ws=D('<span class="resource svelte-ztur2j"> </span>'),bs=D("<em>Free</em>"),Rs=D('<span class="resource svelte-ztur2j"> </span>'),Ls=D("<em>Special</em>"),ks=D('<div><div class="stage-index svelte-ztur2j"></div> <div class="stage-cost svelte-ztur2j">Cost: <!></div> <div class="stage-effect svelte-ztur2j">Effect: <!> <!> <!> <!> <!></div></div>'),Cs=D('<div class="wonder-progress svelte-ztur2j"><div class="stages svelte-ztur2j"></div></div>');function As(r,t){he(t,!1);let e=fe(t,"player",8);pe();var o=Cs(),i=x(o);X(i,5,()=>(y(e()),d(()=>e().wonder.stages)),J,(s,a,p)=>{var U=ks(),w=x(U);w.textContent=`Stage ${p+1}`;var n=B(w,2),c=B(x(n));{var k=_=>{var I=ae(),W=te(I);X(W,1,()=>(u(a),d(()=>Object.entries(u(a).cost))),J,(N,m)=>{var R=de(()=>ue(u(m),2));let z=()=>u(R)[0],q=()=>u(R)[1];var A=ws(),O=x(A);L(A),H(()=>Y(O,`${q()??""} ${z()??""}`)),b(N,A)}),b(_,I)},E=_=>{var I=bs();b(_,I)};V(c,_=>{u(a),d(()=>u(a).cost)?_(k):_(E,!1)})}L(n);var l=B(n,2),g=B(x(l));{var v=_=>{var I=ke();H(()=>Y(I,`+${u(a),d(()=>u(a).effect.points)??""} Points`)),b(_,I)};V(g,_=>{u(a),d(()=>u(a).effect.points)&&_(v)})}var S=B(g,2);{var T=_=>{var I=ke();H(()=>Y(I,`+${u(a),d(()=>u(a).effect.coins)??""} Coins`)),b(_,I)};V(S,_=>{u(a),d(()=>u(a).effect.coins)&&_(T)})}var $=B(S,2);{var G=_=>{var I=ke();H(()=>Y(I,`+${u(a),d(()=>u(a).effect.military)??""} Military`)),b(_,I)};V($,_=>{u(a),d(()=>u(a).effect.military)&&_(G)})}var C=B($,2);{var f=_=>{var I=ae(),W=te(I);X(W,1,()=>(u(a),d(()=>Object.entries(u(a).effect.resources))),J,(N,m)=>{var R=de(()=>ue(u(m),2));let z=()=>u(R)[0],q=()=>u(R)[1];var A=Rs(),O=x(A);L(A),H(()=>Y(O,`${q()??""} ${z()??""}`)),b(N,A)}),b(_,I)};V(C,_=>{u(a),d(()=>u(a).effect.resources)&&_(f)})}var h=B(C,2);{var M=_=>{var I=Ls();b(_,I)};V(h,_=>{u(a),d(()=>!u(a).effect.points&&!u(a).effect.coins&&!u(a).effect.military&&!u(a).effect.resources)&&_(M)})}L(l),L(U),H(()=>Se(U,1,`stage ${y(e()),d(()=>p<e().wonderStagesBuilt?"built":"")??""}`,"svelte-ztur2j")),b(s,U)}),L(i),L(o),b(r,o),_e()}var Bs=D('<img class="svelte-1bc4t8k"/>'),Us=D('<div class="resource svelte-1bc4t8k"><img class="svelte-1bc4t8k"/> <span> </span></div>'),xs=D("<em>None</em>"),Ss=D("<li> </li>"),Es=D("<ul></ul>"),Is=D('<div><div class="wonder svelte-1bc4t8k"><!> <div class="wonder-name svelte-1bc4t8k"> </div> <div class="wonder-progress svelte-1bc4t8k"><!></div></div> <div class="player-info svelte-1bc4t8k"><div class="stats svelte-1bc4t8k"><div class="resource svelte-1bc4t8k"><img alt="coin" class="svelte-1bc4t8k"/> <span> </span></div> <div class="resource svelte-1bc4t8k"><img alt="military" class="svelte-1bc4t8k"/> <span> </span></div> <div class="resource svelte-1bc4t8k"><img alt="score" class="svelte-1bc4t8k"/> <span> </span></div></div> <h3>Resources</h3> <div class="resources svelte-1bc4t8k"></div> <h3>Buildings</h3> <div class="built-cards"><!></div></div></div>');function Os(r,t){he(t,!1);let e=fe(t,"player",8),o=fe(t,"i",8),i=fe(t,"winners",8);pe();var s=Is();let a;var p=x(s),U=x(p);{var w=A=>{var O=Bs();H(()=>{P(O,"src",(y(ve),y(e()),d(()=>ve[e().wonder.id]))),P(O,"alt",(y(e()),d(()=>e().wonder.name))),P(O,"title",(y(e()),d(()=>e().wonder.name)))}),b(A,O)};V(U,A=>{y(e()),y(ve),d(()=>e().wonder&&e().wonder.id&&ve[e().wonder.id])&&A(w)})}var n=B(U,2),c=x(n,!0);L(n);var k=B(n,2),E=x(k);As(E,{get player(){return e()}}),L(k),L(p);var l=B(p,2),g=x(l),v=x(g),S=x(v),T=B(S,2),$=x(T,!0);L(T),L(v);var G=B(v,2),C=x(G),f=B(C,2),h=x(f,!0);L(f),L(G);var M=B(G,2),_=x(M),I=B(_,2),W=x(I,!0);L(I),L(M),L(g);var N=B(g,4);X(N,5,()=>(y(e()),d(()=>Object.entries(e().resources))),J,(A,O)=>{var Q=de(()=>ue(u(O),2));let F=()=>u(Q)[0],K=()=>u(Q)[1];var se=Us(),oe=x(se),ce=B(oe,2),Z=x(ce,!0);L(ce),L(se),H(()=>{P(oe,"src",(y(j),F(),d(()=>j[F()]))),P(oe,"alt",F()),Y(Z,K())}),b(A,se)}),L(N);var m=B(N,4),R=x(m);{var z=A=>{var O=xs();b(A,O)},q=A=>{var O=Es();X(O,5,()=>(y(e()),d(()=>e().built)),J,(Q,F)=>{var K=Ss(),se=x(K,!0);L(K),H(()=>Y(se,(u(F),d(()=>u(F).name)))),b(Q,K)}),L(O),b(A,O)};V(R,A=>{y(e()),d(()=>e().built.length===0)?A(z):A(q,!1)})}L(m),L(l),L(s),H(A=>{a=Se(s,1,"player-summary svelte-1bc4t8k",null,a,A),Y(c,(y(e()),d(()=>e().wonder?.name))),P(S,"src",(y(j),d(()=>j.coin))),Y($,(y(e()),d(()=>e().coins))),P(C,"src",(y(j),d(()=>j.military))),Y(h,(y(e()),d(()=>e().military))),P(_,"src",(y(j),d(()=>j.victory))),Y(W,(y(e()),d(()=>e().score)))},[()=>({current:o()===0,winner:i().some(A=>A.name===e().name)})]),b(r,s),_e()}const Ds=[...Ee(),...Qe(),...Ze()];function je(r){return Ds.find(t=>t.id===r)?.name}var Ts=D('<p class="card-temporary svelte-5g7e00">Temporary, removed after end of age</p>'),$s=D('<img class="svelte-5g7e00"/>'),Ms=D('<img class="svelte-5g7e00"/>'),Ps=D("<em>Free</em>"),Gs=D('<div class="card-altcost svelte-5g7e00"><p class="svelte-5g7e00"> </p></div>'),Ns=D('<img class="svelte-5g7e00"/>'),zs=D('<img class="svelte-5g7e00"/>'),js=D('<img alt="military" class="svelte-5g7e00"/>'),Hs=D('<img class="svelte-5g7e00"/>'),Vs=D('<div><h2> </h2> <!> <h4>Cost</h4> <div class="card-cost svelte-5g7e00"><!></div> <!> <h4>Production</h4> <div class="card-effect svelte-5g7e00"><!> <!> <!> <!></div> <div class="card-actions svelte-5g7e00"><button class="svelte-5g7e00"><strong>Build</strong></button> <button class="svelte-5g7e00"><strong>Sell</strong></button> <button class="svelte-5g7e00"><strong>Wonder</strong></button></div></div>');function qs(r,t){he(t,!1);let e=fe(t,"card",8);const o=bt();function i(m){o("pick",m)}pe();var s=Vs(),a=x(s),p=x(a,!0);L(a);var U=B(a,2);{var w=m=>{var R=Ts();b(m,R)};V(U,m=>{y(e()),d(()=>e().temporary)&&m(w)})}var n=B(U,4),c=x(n);{var k=m=>{var R=ae(),z=te(R);X(z,1,()=>(y(e()),d(()=>Object.entries(e().cost))),J,(q,A)=>{var O=de(()=>ue(u(A),2));let Q=()=>u(O)[0],F=()=>u(O)[1];var K=ae(),se=te(K);{var oe=Z=>{var ne=$s();H(()=>{P(ne,"src",(y(j),F(),d(()=>j["coin"+F()]))),P(ne,"alt","coin"+F())}),b(Z,ne)},ce=Z=>{var ne=ae(),Xe=te(ne);X(Xe,1,()=>(F(),d(()=>Array(F()))),J,(Ke,Qs)=>{var we=Ms();H(()=>{P(we,"src",(y(j),Q(),d(()=>j[Q()]))),P(we,"alt",Q())}),b(Ke,we)}),b(Z,ne)};V(se,Z=>{Q()==="coins"?Z(oe):Z(ce,!1)})}b(q,K)}),b(m,R)},E=m=>{var R=Ps();b(m,R)};V(c,m=>{y(e()),d(()=>e().cost&&Object.keys(e().cost).length>0)?m(k):m(E,!1)})}L(n);var l=B(n,2);{var g=m=>{var R=Gs(),z=x(R),q=x(z,!0);L(z),L(R),H(A=>Y(q,A),[()=>(y(je),y(e()),d(()=>je(e().altcost)))]),b(m,R)};V(l,m=>{y(e()),d(()=>e().altcost)&&m(g)})}var v=B(l,4),S=x(v);{var T=m=>{var R=ae(),z=te(R);X(z,1,()=>(y(e()),d(()=>Object.entries(e().effect.resources))),J,(q,A)=>{var O=de(()=>ue(u(A),2));let Q=()=>u(O)[0],F=()=>u(O)[1];var K=ae(),se=te(K);X(se,1,()=>(F(),d(()=>Array(F()))),J,(oe,ce)=>{var Z=Ns();H(()=>{P(Z,"src",(y(j),Q(),d(()=>j[Q()]))),P(Z,"alt",Q())}),b(oe,Z)}),b(q,K)}),b(m,R)};V(S,m=>{y(e()),d(()=>e().effect.resources)&&m(T)})}var $=B(S,2);{var G=m=>{var R=zs();H(()=>{P(R,"src",(y(j),y(e()),d(()=>j["coin"+e().effect.coins]))),P(R,"alt",(y(e()),d(()=>"coin"+e().effect.coins)))}),b(m,R)};V($,m=>{y(e()),d(()=>e().effect.coins)&&m(G)})}var C=B($,2);{var f=m=>{var R=ae(),z=te(R);X(z,1,()=>(y(e()),d(()=>Array(e().effect.military))),J,(q,A)=>{var O=js();H(()=>P(O,"src",(y(j),d(()=>j.military)))),b(q,O)}),b(m,R)};V(C,m=>{y(e()),d(()=>e().effect.military)&&m(f)})}var h=B(C,2);{var M=m=>{var R=Hs();H(()=>{P(R,"src",(y(j),y(e()),d(()=>j["victory"+e().effect.points]))),P(R,"alt",(y(e()),d(()=>"victory"+e().effect.points)))}),b(m,R)};V(h,m=>{y(e()),d(()=>e().effect.points)&&m(M)})}L(v);var _=B(v,2),I=x(_),W=B(I,2),N=B(W,2);L(_),L(s),H(()=>{Se(s,1,`card-buttons card-type-${y(e()),d(()=>e().type)??""}`,"svelte-5g7e00"),Y(p,(y(e()),d(()=>e().name)))}),Ce("click",I,()=>i("build")),Ce("click",W,()=>i("sell")),Ce("click",N,()=>i("wonder")),b(r,s),_e()}var Ws=D('<img class="age-image svelte-alnydg" width="120" height="120"/>'),Fs=D('<h1>Definitely Not 7 Wonders</h1> <!> <p class="message svelte-alnydg"> </p> <div class="game-container svelte-alnydg"><div class="player-list svelte-alnydg"></div> <div class="cards-container svelte-alnydg"></div></div>',1),Ys=D("<p>Loading game...</p>");function rr(r,t){he(t,!1);const[e,o]=Rt(),i=()=>Lt(Me,"$game",e);let s=Ue("Game started - Age I"),a=Ue([]);function p(k,E){Me.update(l=>{const{updatedGame:g,message:v,winners:S}=Nt(l,k,E);return Te(s,v),Te(a,S),g})}pe();var U=ae(),w=te(U);{var n=k=>{var E=Fs(),l=B(te(E),2);{var g=C=>{var f=Ws();H(()=>{P(f,"src",Pe[i().age]),P(f,"alt","Age "+i().age)}),b(C,f)};V(l,C=>{Pe[i().age]&&C(g)})}var v=B(l,2),S=x(v,!0);L(v);var T=B(v,2),$=x(T);X($,5,()=>i().players,J,(C,f,h)=>{Os(C,{get player(){return u(f)},i:h,get winners(){return u(a)}})}),L($);var G=B($,2);X(G,5,()=>i().players[0].hand,J,(C,f)=>{qs(C,{get card(){return u(f)},$$events:{pick:h=>p(u(f),h.detail)}})}),L(G),L(T),H(()=>Y(S,u(s))),b(k,E)},c=k=>{var E=Ys();b(k,E)};V(w,k=>{i()?k(n):k(c,!1)})}b(r,U),_e(),o()}export{rr as component,sr as universal};
