import"../chunks/DsnmJJEf.js";import{i as $e}from"../chunks/G8IXx4_o.js";import{A as Be,h as ne,af as it,C as Ze,x as Je,w as nt,f as d,W as ct,y as lt,H as ft,z as Ge,B as Ue,K as pe,ag as dt,ak as ut,D as Ee,G as vt,F as mt,ao as Ke,ac as pt,Q as ke,aJ as je,aK as Me,I as Xe,J as yt,aL as Re,aM as Ae,aN as et,aO as Le,aP as gt,ai as ht,aQ as _t,an as wt,aR as bt,Z as $t,aS as tt,ad as Rt,aT as Lt,l as S,q as C,v as q,s as R,t as M,n as y,p as xe,d as i,i as l,o as Se,a6 as oe,m as se,aH as ge,aU as he,R as Ne}from"../chunks/LRZBNtRS.js";import{w as xt,s as ce,c as St,e as qe}from"../chunks/nlGExX9J.js";import{p as me,i as Q,s as Ct,a as Bt}from"../chunks/WwQO-R3r.js";import{s as P}from"../chunks/DEv96aKz.js";function te(o,t){return t}function Ut(o,t,e){for(var a=o.items,n=[],r=t.length,s=0;s<r;s++)_t(t[s].e,n,!0);var p=r>0&&n.length===0&&e!==null;if(p){var E=e.parentNode;wt(E),E.append(e),a.clear(),ie(o,t[0].prev,t[r-1].next)}bt(n,()=>{for(var w=0;w<r;w++){var c=t[w];p||(a.delete(c.k),ie(o,c.prev,c.next)),et(c.e,!p)}})}function re(o,t,e,a,n,r=null){var s=o,p={flags:t,items:new Map,first:null},E=(t&tt)!==0;if(E){var w=o;s=ne?Be(it(w)):w.appendChild(Ze())}ne&&Je();var c=null,f=!1,x=new Map,T=ct(()=>{var D=e();return pt(D)?D:D==null?[]:Ke(D)}),u,b;function g(){At(b,u,p,x,s,n,t,a,e),r!==null&&(u.length===0?c?Xe(c):c=Ee(()=>r(s)):c!==null&&yt(c,()=>{c=null}))}nt(()=>{b??=$t,u=d(T);var D=u.length;if(f&&D===0)return;f=D===0;let N=!1;if(ne){var z=lt(s)===ft;z!==(D===0)&&(s=Ge(),Be(s),Ue(!1),N=!0)}if(ne){for(var V=null,k,v=0;v<D;v++){if(pe.nodeType===dt&&pe.data===ut){s=pe,N=!0,Ue(!1);break}var $=u[v],h=a($,v);k=Te(pe,p,V,null,$,h,v,n,t,e),p.items.set(h,k),V=k}D>0&&Be(Ge())}if(ne)D===0&&r&&(c=Ee(()=>r(s)));else if(vt()){var G=new Set,Z=mt;for(v=0;v<D;v+=1){$=u[v],h=a($,v);var j=p.items.get(h)??x.get(h);j?(t&(Le|Re))!==0&&rt(j,$,v,t):(k=Te(null,p,null,null,$,h,v,n,t,e,!0),x.set(h,k)),G.add(h)}for(const[W,F]of p.items)G.has(W)||Z.skipped_effects.add(F.e);Z.add_callback(g)}else g();N&&Ue(!0),d(T)}),ne&&(s=pe)}function At(o,t,e,a,n,r,s,p,E){var w=(s&Lt)!==0,c=(s&(Le|Re))!==0,f=t.length,x=e.items,T=e.first,u=T,b,g=null,D,N=[],z=[],V,k,v,$;if(w)for($=0;$<f;$+=1)V=t[$],k=p(V,$),v=x.get(k),v!==void 0&&(v.a?.measure(),(D??=new Set).add(v));for($=0;$<f;$+=1){if(V=t[$],k=p(V,$),v=x.get(k),v===void 0){var h=a.get(k);if(h!==void 0){a.delete(k),x.set(k,h);var G=g?g.next:u;ie(e,g,h),ie(e,h,G),Pe(h,G,n),g=h}else{var Z=u?u.e.nodes_start:n;g=Te(Z,e,g,g===null?e.first:g.next,V,k,$,r,s,E)}x.set(k,g),N=[],z=[],u=g.next;continue}if(c&&rt(v,V,$,s),(v.e.f&Ae)!==0&&(Xe(v.e),w&&(v.a?.unfix(),(D??=new Set).delete(v))),v!==u){if(b!==void 0&&b.has(v)){if(N.length<z.length){var j=z[0],W;g=j.prev;var F=N[0],m=N[N.length-1];for(W=0;W<N.length;W+=1)Pe(N[W],j,n);for(W=0;W<z.length;W+=1)b.delete(z[W]);ie(e,F.prev,m.next),ie(e,g,F),ie(e,m,j),u=j,g=m,$-=1,N=[],z=[]}else b.delete(v),Pe(v,u,n),ie(e,v.prev,v.next),ie(e,v,g===null?e.first:g.next),ie(e,g,v),g=v;continue}for(N=[],z=[];u!==null&&u.k!==k;)(u.e.f&Ae)===0&&(b??=new Set).add(u),z.push(u),u=u.next;if(u===null)continue;v=u}N.push(v),g=v,u=v.next}if(u!==null||b!==void 0){for(var L=b===void 0?[]:Ke(b);u!==null;)(u.e.f&Ae)===0&&L.push(u),u=u.next;var Y=L.length;if(Y>0){var _=(s&tt)!==0&&f===0?n:null;if(w){for($=0;$<Y;$+=1)L[$].a?.measure();for($=0;$<Y;$+=1)L[$].a?.fix()}Ut(e,L,_)}}w&&Rt(()=>{if(D!==void 0)for(v of D)v.a?.apply()}),o.first=e.first&&e.first.e,o.last=g&&g.e;for(var I of a.values())et(I.e);a.clear()}function rt(o,t,e,a){(a&Le)!==0&&Me(o.v,t),(a&Re)!==0?Me(o.i,e):o.i=e}function Te(o,t,e,a,n,r,s,p,E,w,c){var f=(E&Le)!==0,x=(E&gt)===0,T=f?x?ke(n,!1,!1):je(n):n,u=(E&Re)===0?s:je(s),b={i:u,v:T,k:r,a:null,e:null,prev:e,next:a};try{if(o===null){var g=document.createDocumentFragment();g.append(o=Ze())}return b.e=Ee(()=>p(o,T,u,w),ne),b.e.prev=e&&e.e,b.e.next=a&&a.e,e===null?c||(t.first=b):(e.next=b,e.e.next=b.e),a!==null&&(a.prev=b,a.e.prev=b.e),b}finally{}}function Pe(o,t,e){for(var a=o.next?o.next.e.nodes_start:e,n=t?t.e.nodes_start:e,r=o.e.nodes_start;r!==null&&r!==a;){var s=ht(r);n.before(r),r=s}}function ie(o,t,e){t===null?o.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}function qt(o,t,e,a,n){ne&&Je();var r=t.$$slots?.[e],s=!1;r===!0&&(r=t.children,s=!0),r===void 0||r(o,s?()=>a:a)}const He=[...` 	
\r\fÂ \v\uFEFF`];function Pt(o,t,e){var a=o==null?"":""+o;if(t&&(a=a?a+" "+t:t),e){for(var n in e)if(e[n])a=a?a+" "+n:n;else if(a.length)for(var r=n.length,s=0;(s=a.indexOf(n,s))>=0;){var p=s+r;(s===0||He.includes(a[s-1]))&&(p===a.length||He.includes(a[p]))?a=(s===0?"":a.substring(0,s))+a.substring(p+1):s=p}}return a===""?null:a}function ye(o,t,e,a,n,r){var s=o.__className;if(ne||s!==e||s===void 0){var p=Pt(e,a,r);(!ne||p!==o.getAttribute("class"))&&(p==null?o.removeAttribute("class"):o.className=p),o.__className=e}else if(r&&n!==r)for(var E in r){var w=!!r[E];(n==null||w!==!!n[E])&&o.classList.toggle(E,w)}return r}const Et=!1,kt=!0,ws=Object.freeze(Object.defineProperty({__proto__:null,prerender:kt,ssr:Et},Symbol.toStringTag,{value:"Module"})),Tt=[{id:1,name:"The Great Pyramid of Giza",baseResource:"stone",stages:[{cost:{wood:2},effect:{points:3}},{cost:{clay:2,cloth:1},effect:{points:5}},{cost:{stone:4},effect:{points:7}}]},{id:2,name:"Hanging Gardens of Babylon",baseResource:"wood",stages:[{cost:{clay:2},effect:{points:3}},{cost:{ore:2,cloth:1},effect:{coins:6}},{cost:{wood:4},effect:{points:7}}]},{id:3,name:"Statue of Zeus at Olympia",baseResource:"clay",stages:[{cost:{stone:2},effect:{points:3}},{cost:{wood:2},effect:{military:1}},{cost:{clay:3},effect:{points:7}}]},{id:4,name:"Temple of Artemis at Ephesus",baseResource:"papyrus",stages:[{cost:{clay:2},effect:{points:3}},{cost:{wood:2},effect:{coins:9}},{cost:{ore:2,glass:1},effect:{points:7}}]},{id:5,name:"Mausoleum at Halicarnassus",baseResource:"cloth",stages:[{cost:{ore:2},effect:{points:3}},{cost:{glass:1,papyrus:1},effect:{coins:9}},{cost:{stone:3},effect:{points:7}}]},{id:6,name:"Colossus of Rhodes",baseResource:"ore",stages:[{cost:{wood:2},effect:{points:3}},{cost:{clay:3},effect:{military:2}},{cost:{ore:4},effect:{points:7}}]},{id:7,name:"Lighthouse of Alexandria",baseResource:"glass",stages:[{cost:{stone:2},effect:{resources:{glass:1}}},{cost:{ore:2},effect:{points:5}},{cost:{papyrus:1,cloth:1},effect:{points:7}}]},{id:8,name:"Uppsala Cathedral",baseResource:"clay",stages:[{cost:{stone:2},effect:{coins:3}},{cost:{papyrus:2},effect:{points:5}},{cost:{clay:2,ore:1},effect:{points:7}}]},{id:9,name:"Lindvalls Coffee",baseResource:"coffee",stages:[{cost:{clay:2},effect:{resources:{coffee:1}}},{cost:{glass:2},effect:{resources:{coffee:1}}},{cost:{stone:2},effect:{resources:{coffee:1}}}]},{id:10,name:"KTH Royal Institute of Technology",baseResource:"wood",stages:[{cost:{stone:2},effect:{resources:{papyrus:1}}},{cost:{coffee:1},effect:{points:3}},{cost:{clay:2,glass:1},effect:{points:7}}]}];function Ie(){return[{id:1,name:"Lumber Yard",type:"resource",effect:{resources:{wood:1}}},{id:2,name:"Stone Pit",type:"resource",effect:{resources:{stone:1}}},{id:3,name:"Barracks",type:"military",effect:{military:1}},{id:4,name:"Theater",type:"civilian",effect:{points:3}},{id:5,name:"Marketplace",type:"commerce",effect:{coins:3}},{id:6,name:"Clay Pool",type:"resource",effect:{resources:{clay:1}}},{id:7,name:"Ore Vein",type:"resource",effect:{resources:{ore:1}}},{id:8,name:"Timber Yard",type:"resource",cost:{coins:1},effect:{resources:{wood:2}}},{id:9,name:"Glassworks",type:"resource",effect:{resources:{glass:1}}},{id:10,name:"Guard Tower",type:"military",effect:{military:1}},{id:11,name:"Altar",type:"civilian",effect:{points:3}},{id:12,name:"Marketplace",type:"commerce",effect:{coins:3}},{id:13,name:"Clay Pit",type:"resource",cost:{coins:1},effect:{resources:{clay:2}}},{id:14,name:"Press",type:"resource",effect:{resources:{papyrus:1}}},{id:15,name:"Loom",type:"resource",effect:{resources:{cloth:1}}},{id:16,name:"Excavation",type:"resource",cost:{coins:1},effect:{resources:{stone:2}}},{id:17,name:"Stockade",type:"military",effect:{military:1}},{id:18,name:"Baths",type:"civilian",effect:{points:3}},{id:19,name:"Mercenary Camp",type:"military",temporary:!0,cost:{coins:1},effect:{military:1}},{id:20,name:"Coffee Plantation",type:"resource",effect:{resources:{coffee:1}}},{id:21,name:"Mine",type:"resource",cost:{coins:1},effect:{resources:{ore:2}}}]}function st(){return[{id:22,name:"Sawmill",type:"resource",cost:{coins:1},effect:{resources:{wood:2}}},{id:23,name:"Quarry",type:"resource",cost:{coins:1},effect:{resources:{stone:2}}},{id:24,name:"Brickyard",type:"resource",cost:{coins:1},effect:{resources:{clay:2}}},{id:25,name:"Foundry",type:"resource",cost:{coins:1},effect:{resources:{ore:2}}},{id:26,name:"Glassworks",type:"resource",effect:{resources:{glass:1}}},{id:27,name:"Press",type:"resource",effect:{resources:{papyrus:1}}},{id:28,name:"Loom",type:"resource",effect:{resources:{cloth:1}}},{id:29,name:"Stables",type:"military",cost:{wood:1,clay:1,ore:1},altcost:10,effect:{military:2}},{id:30,name:"Archery Range",type:"military",cost:{wood:2,ore:1},effect:{military:2}},{id:31,name:"Walls",type:"military",cost:{stone:3},effect:{military:2}},{id:32,name:"Free Company",type:"military",temporary:!0,cost:{coins:5},effect:{military:3}},{id:33,name:"Temple",type:"civilian",cost:{wood:1,clay:1,glass:1},effect:{points:4}},{id:34,name:"Statue",type:"civilian",cost:{ore:2,wood:1},altcost:11,effect:{points:4}},{id:35,name:"Aqueduct",type:"civilian",cost:{stone:3},effect:{points:5}},{id:36,name:"Courthouse",type:"civilian",cost:{clay:2,cloth:1},effect:{points:4}},{id:37,name:"Forum",type:"commerce",cost:{clay:2},effect:{coins:3,resources:{glass:1,papyrus:1}}},{id:38,name:"Caravansery",type:"commerce",cost:{wood:2},effect:{coins:3,resources:{wood:1,stone:1,clay:1,ore:1}}},{id:39,name:"Roastery",type:"resource",cost:{clay:2},effect:{resources:{coffee:1}}},{id:40,name:"Bazar",type:"commerce",effect:{coins:3}},{id:41,name:"Spice Market",type:"resource",cost:{wood:1,cloth:1},effect:{resources:{spice:1}}},{id:42,name:"Library",type:"civilian",cost:{stone:2,glass:1},effect:{points:4}}]}function ot(){return[{id:43,name:"Arsenal",type:"resource",cost:{coins:3},effect:{resources:{wood:2,ore:1}}},{id:44,name:"Palace Gardens",type:"resource",cost:{coins:3},effect:{resources:{stone:2,clay:1}}},{id:45,name:"Pantheon",type:"resource",cost:{coins:3},effect:{resources:{glass:1,papyrus:1,cloth:1}}},{id:46,name:"Fortifications",type:"military",cost:{stone:2,ore:2},effect:{military:3}},{id:47,name:"Siege Workshop",type:"military",cost:{wood:2,clay:1,ore:1},effect:{military:3}},{id:48,name:"Circus",type:"military",cost:{stone:3,ore:1},effect:{military:3}},{id:49,name:"Arsenal",type:"military",cost:{wood:2,ore:2,cloth:1},effect:{military:3}},{id:50,name:"Palace",type:"civilian",cost:{wood:1,stone:1,clay:1,ore:1,glass:1,papyrus:1,cloth:1},effect:{points:8}},{id:51,name:"Town Hall",type:"civilian",cost:{stone:2,ore:1,glass:1},effect:{points:6}},{id:52,name:"Pantheon",type:"civilian",cost:{clay:2,papyrus:1,glass:1},effect:{points:7}},{id:53,name:"Gardens",type:"civilian",cost:{clay:2,wood:1},effect:{points:5}},{id:54,name:"Senate",type:"civilian",cost:{stone:2,wood:1,cloth:1},effect:{points:6}},{id:55,name:"Obelisk",type:"civilian",cost:{stone:2,ore:1},effect:{points:5}},{id:56,name:"Trade Center",type:"civilian",cost:{coffee:1,ore:2},effect:{points:4}},{id:57,name:"Supply Yard",type:"resource",cost:{stone:1,coins:5},effect:{resources:{wood:1,ore:1,clay:1}}},{id:58,name:"Scriptorium",type:"resource",cost:{stone:1,wood:1},effect:{resources:{papyrus:1}}},{id:59,name:"Arena",type:"commerce",cost:{stone:1,ore:1,papyrus:1},effect:{coins:5}},{id:60,name:"Stock Exchange",type:"commerce",cost:{ore:2,cloth:1},effect:{coins:5}},{id:61,name:"Harbor",type:"commerce",cost:{wood:1,glass:1},effect:{coins:5}},{id:62,name:"Customs House",type:"commerce",cost:{clay:1,papyrus:1},effect:{coins:4}},{id:63,name:"Grand Bazaar",type:"civilian",cost:{coffee:1,spice:1,cloth:1},effect:{points:8}}]}function be(o){return o.map(t=>({value:t,sort:Math.random()})).sort((t,e)=>t.sort-e.sort).map(({value:t})=>t)}function It(o){return Tt.map(e=>({w:e,sort:Math.random()})).sort((e,a)=>e.sort-a.sort).map(({w:e})=>e).slice(0,o)}function Ot(o,t){return{name:o,coins:3,military:0,score:0,resources:{[t.baseResource]:1},hand:[],built:[],wonder:t,wonderStagesBuilt:0}}function Dt(){const o=["You","Bot A","Bot B"],t=It(o.length),e=o.map((n,r)=>Ot(n,t[r])),a=be(Ie());for(let n=0;n<e.length;n++)e[n].hand=a.splice(0,7);return{players:e,discard:[],age:1}}function Gt(o){let t;o.age===2?t=be(st()):o.age===3?t=be(ot()):t=be(Ie());for(let e=0;e<o.players.length;e++)o.players[e].hand=t.splice(0,7)}const Ve=xt(Dt()),jt=""+new URL("../assets/age-1.BJE8dBrp.png",import.meta.url).href,Mt=""+new URL("../assets/age-2.BWAIcDqr.png",import.meta.url).href,Nt=""+new URL("../assets/age-3.C94qqtx1.png",import.meta.url).href,We={1:jt,2:Mt,3:Nt};function Ht(o){if(o.hand.length!==0)return o.hand.reduce((t,e)=>{const a=Fe(t);return Fe(e)>a?e:t})}function Fe(o){return o.effect.resources?Object.values(o.effect.resources).reduce((t,e)=>t+(e??0),0):0}function at(o,t){if(t){if(t.resources)for(const[e,a]of Object.entries(t.resources)){const n=a??0;o.resources[e]=(o.resources[e]||0)+n}typeof t.coins=="number"&&(o.coins=(o.coins||0)+t.coins),typeof t.military=="number"&&(o.military=(o.military||0)+t.military),typeof t.points=="number"&&(o.score=(o.score||0)+t.points)}}function Vt(o,t){t&&t.coins&&t.coins>0&&(o.coins=(o.coins||0)-t.coins)}function ve(o,t,e){if(!t||o.built.some(a=>a.id===e))return!0;if(t.coins&&(o.coins||0)<t.coins)return!1;for(const[a,n]of Object.entries(t))if(a!=="coins"&&(o.resources[a]||0)<(n||0))return!1;return!0}function Ye(o,t){if(!ve(o,t.cost,t.altcost)){console.warn(`${o.name} cannot afford ${t.name}`);return}Vt(o,t.cost),at(o,t.effect),o.built.push(t)}function ze(o,t,e){if(!ve(o,e)){console.warn(`${o.name} cannot afford this wonder stage`);return}at(o,t)}function Wt(o){const t=o.players,e=t.length;let a=0;switch(o.age){case 1:a=1;break;case 2:a=3;break;case 3:a=5;break;default:a=0}for(let n=0;n<e;n++){const r=t[n],s=t[(n+1)%e],p=t[(n-1+e)%e];if(o.age===3){const w=Math.floor(r.coins/3);r.score+=w,r.coins=r.coins%3}(r.military||0)>(s.military||0)?r.score+=a:(r.military||0)<(s.military||0)&&(r.score-=1),(r.military||0)>(p.military||0)?r.score+=a:(r.military||0)<(p.military||0)&&(r.score-=1);const E=r.resources.coffee||0;r.score+=E,r.built=r.built.filter(w=>!w.temporary),r.resources={[r.wonder.baseResource]:1},r.military=r.built.reduce((w,c)=>w+(c.effect.military||0),0);for(const w of r.built)if(w.effect.resources)for(const[c,f]of Object.entries(w.effect.resources))r.resources[c]=(r.resources[c]||0)+(f||0);for(let w=0;w<r.wonderStagesBuilt;w++){const c=r.wonder.stages[w].effect;if(c.military&&(r.military+=c.military),c.points&&(r.score+=c.points),c.coins&&(r.coins+=c.coins),c.resources)for(const[f,x]of Object.entries(c.resources))r.resources[f]=(r.resources[f]||0)+x}}}function Ft(o,t,e){let a="",n=[];const r=structuredClone(o),s=r.players[0];if(e==="build"){if(s.built.some(f=>f.name===t.name))return a=`You already built "${t.name}", pick another card.`,{updatedGame:r,message:a,winners:n};if(!ve(s,t.cost,t.altcost))return a=`You don't have enough resources to build "${t.name}". Pick another card.`,{updatedGame:r,message:a,winners:n};const c=s.hand.findIndex(f=>f.id===t.id);if(c<0)return{updatedGame:r,message:a,winners:n};s.hand.splice(c,1),Ye(s,t)}else if(e==="sell"){const c=s.hand.findIndex(f=>f.id===t.id);if(c<0)return{updatedGame:r,message:a,winners:n};s.hand.splice(c,1),s.coins+=3}else if(e==="wonder")if(s.wonderStagesBuilt<s.wonder.stages.length){const c=s.wonder.stages[s.wonderStagesBuilt];if(!ve(s,c.cost))return a="You don't have enough resources to build this wonder stage!",{updatedGame:r,message:a,winners:n};const f=s.hand.findIndex(x=>x.id===t.id);if(f<0)return{updatedGame:r,message:a,winners:n};s.hand.splice(f,1),s.wonderStagesBuilt++,ze(s,c.effect,c.cost)}else return a="Your wonder is already complete!",{updatedGame:r,message:a,winners:n};for(let c=1;c<r.players.length;c++){const f=r.players[c],x=f.hand.filter(b=>!f.built.some(g=>g.name===b.name)&&ve(f,b.cost));let T,u="build";if(x.length>0)T=Ht({...f,hand:x}),u="build";else{if(f.wonderStagesBuilt<f.wonder.stages.length){const b=f.wonder.stages[f.wonderStagesBuilt];ve(f,b.cost)&&(T=f.hand[0],u="wonder")}!T&&f.hand.length>0&&(T=f.hand[0],u="sell")}if(T){const b=f.hand.findIndex(g=>g.id===T.id);if(b>=0){if(f.hand.splice(b,1),console.log("picked",T.name,"to",u,"for bot",f.name),u==="build")Ye(f,T);else if(u==="sell")f.coins+=3;else if(u==="wonder"){const g=f.wonder.stages[f.wonderStagesBuilt];f.wonderStagesBuilt++,ze(f,g.effect,g.cost)}}}}const p=r.players.map(c=>c.hand),E=[p[p.length-1],...p.slice(0,p.length-1)];for(let c=0;c<r.players.length;c++)r.players[c].hand=E[c],console.log(r.players[c].name,"s hand:",r.players[c].hand);if(r.players.some(c=>c.hand.length>0))!a.startsWith("You already built")&&!a.startsWith("You don't have enough resources")&&(a="Turn resolved. Next pick.");else if(Wt(r),r.age<3)r.age++,Gt(r),a=`End of Age ${r.age-1} finished. Scores updated. Age ${r.age} begins!`;else{const c=Math.max(...r.players.map(f=>f.score));n=r.players.filter(f=>f.score===c),a=`Game over! ${n.map(f=>f.wonder.name).join(", ")} won with ${c} points!`,console.log("Final scores:",r.players.map(f=>({name:f.name,score:f.score}))),console.log("Winners:",n)}return{updatedGame:{...r,players:r.players.map(c=>({...c,hand:[...c.hand],built:[...c.built]}))},message:a,winners:n}}const Yt=""+new URL("../assets/giza.VVBVPHkf.png",import.meta.url).href,zt=""+new URL("../assets/babylon.DFluoLyw.png",import.meta.url).href,Qt=""+new URL("../assets/olympia.MIgPe3D6.png",import.meta.url).href,Zt=""+new URL("../assets/ephesos.BD1F0EdB.png",import.meta.url).href,Jt=""+new URL("../assets/uppsala.DzCzligB.png",import.meta.url).href,Kt=""+new URL("../assets/lindvalls.JVtzja-w.png",import.meta.url).href,Xt=""+new URL("../assets/halikarnassos.FZljeaQc.png",import.meta.url).href,er=""+new URL("../assets/rhodos.DxVdnyVU.png",import.meta.url).href,tr=""+new URL("../assets/alexandria.DiH0FkG7.png",import.meta.url).href,rr=""+new URL("../assets/kth.BuE7sqFG.png",import.meta.url).href,we={1:Yt,2:zt,3:Qt,4:Zt,5:Xt,6:er,7:tr,8:Jt,9:Kt,10:rr},sr=""+new URL("../assets/glass.cViTZEFt.png",import.meta.url).href,or=""+new URL("../assets/wood.8mMbf7v2.png",import.meta.url).href,ar=""+new URL("../assets/stone.qIaZXg4X.png",import.meta.url).href,ir=""+new URL("../assets/ore.BEo6Hnme.png",import.meta.url).href,nr=""+new URL("../assets/clay.BkSNrCQv.png",import.meta.url).href,cr=""+new URL("../assets/coffee.BEH_fvhj.png",import.meta.url).href,lr=""+new URL("../assets/spice.CE-eP-kd.png",import.meta.url).href,fr=""+new URL("../assets/cloth.7hEfWQrA.png",import.meta.url).href,dr=""+new URL("../assets/papyrus.Cenvg5J3.png",import.meta.url).href,ur=""+new URL("../assets/military.CoMoyiE9.png",import.meta.url).href,vr=""+new URL("../assets/coin.BVeLvs8D.png",import.meta.url).href,mr=""+new URL("../assets/coin-1.BRQ9sOaY.png",import.meta.url).href,pr=""+new URL("../assets/coin-3.c5OVTl5g.png",import.meta.url).href,yr=""+new URL("../assets/coin-4.Av_mxviy.png",import.meta.url).href,gr=""+new URL("../assets/coin-5.CVzNlNdL.png",import.meta.url).href,hr=""+new URL("../assets/coin-6.CoRwwKTP.png",import.meta.url).href,_r=""+new URL("../assets/coin-9.DQSSAwKE.png",import.meta.url).href,wr=""+new URL("../assets/victory.DD4OmmV1.png",import.meta.url).href,br=""+new URL("../assets/victory-1.D-XnFPMq.png",import.meta.url).href,$r=""+new URL("../assets/victory-2.CVwBGVWc.png",import.meta.url).href,Rr=""+new URL("../assets/victory-3.CaoIER7o.png",import.meta.url).href,Lr=""+new URL("../assets/victory-4.RDeBRlgz.png",import.meta.url).href,xr=""+new URL("../assets/victory-5.BBTjO1_4.png",import.meta.url).href,Sr=""+new URL("../assets/victory-6.BZUvnQvq.png",import.meta.url).href,Cr=""+new URL("../assets/victory-7.DCafhQbl.png",import.meta.url).href,Br=""+new URL("../assets/victory-8.B25pGN3O.png",import.meta.url).href,U={coffee:cr,wood:or,stone:ar,ore:ir,clay:nr,glass:sr,cloth:fr,papyrus:dr,spice:lr,military:ur,coin:vr,coin1:mr,coin3:pr,coin4:yr,coin5:gr,coin6:hr,coin9:_r,victory:wr,victory1:br,victory2:$r,victory3:Rr,victory4:Lr,victory5:xr,victory6:Sr,victory7:Cr,victory8:Br};var Ur=S('<div class="tooltip-container svelte-bilaux"><!> <span class="tooltip-text svelte-bilaux"> </span></div>');function X(o,t){let e=me(t,"text",8);var a=Ur(),n=C(a);qt(n,t,"default",{});var r=q(n,2),s=C(r,!0);R(r),R(a),M(()=>ce(s,e())),y(o,a)}const A={coffee:"Coffee - A rare trade good for advanced commerce. Grants 1 victory point at the end of each age per coffee resource owned",wood:"Wood - Basic material for construction",stone:"Stone - Sturdy material for buildings and wonders",ore:"Ore - Essential for advanced structures",clay:"Clay - Used in construction and manufacturing",glass:"Glass - Refined material for scientific and civic buildings",cloth:"Cloth - Luxury material for commerce and culture",papyrus:"Papyrus - Special resource for science and progress",spice:"Spice - Valuable trade good for commerce",military:"Military strength - Used in conflicts with neighbors. Player with the most military strength wins battles and earn points at the end of each age",military1:"1 military strength",coin:"Coins - Used in trade and construction. Each 3 coins is converted to 1 victory point at the end of the game",coin1:"1 coin",coin2:"2 coins",coin3:"3 coins",coin4:"4 coins",coin5:"5 coins",coin6:"6 coins",coin7:"7 coins",coin8:"8 coins",coin9:"9 coins",victory:"Victory points - The player with the most victory points at the end of the game wins",victory1:"1 victory point",victory2:"2 victory points",victory3:"3 victory points",victory4:"4 victory points",victory5:"5 victory points",victory6:"6 victory points",victory7:"7 victory points",victory8:"8 victory points"};var Ar=S('<img class="svelte-vdqv07"/>'),qr=S('<img class="svelte-vdqv07"/>'),Pr=S('<img alt="military" class="svelte-vdqv07"/>'),Er=S('<img class="svelte-vdqv07"/>'),kr=S("<em>Special</em>"),Tr=S('<img class="svelte-vdqv07"/>'),Ir=S('<img class="svelte-vdqv07"/>'),Or=S("<em>Free</em>"),Dr=S('<div class="stage-cost svelte-vdqv07"><!></div>'),Gr=S('<div><div><div class="stage-index svelte-vdqv07"></div> <div><!> <!> <!> <!> <!></div></div> <!></div>'),jr=S('<div class="wonder-progress"><div class="stages svelte-vdqv07"></div></div>');function Mr(o,t){xe(t,!1);let e=me(t,"player",8);$e();var a=jr(),n=C(a);re(n,5,()=>(l(e()),i(()=>e().wonder.stages)),te,(r,s,p)=>{var E=Gr(),w=C(E),c=C(w);c.textContent=`Stage ${p+1}`;var f=q(c,2),x=C(f);{var T=h=>{var G=oe(),Z=se(G);re(Z,1,()=>(d(s),i(()=>Object.entries(d(s).effect.resources))),te,(j,W)=>{var F=ge(()=>he(d(W),2));let m=()=>d(F)[0],L=()=>d(F)[1];var Y=oe(),_=se(Y);re(_,1,()=>(L(),i(()=>Array(L()))),te,(I,O)=>{X(I,{get text(){return l(A),m(),i(()=>A[m()])},children:(B,H)=>{var J=Ar();M(()=>{P(J,"src",(l(U),m(),i(()=>U[m()]))),P(J,"alt",m())}),y(B,J)},$$slots:{default:!0}})}),y(j,Y)}),y(h,G)};Q(x,h=>{d(s),i(()=>d(s).effect.resources)&&h(T)})}var u=q(x,2);{var b=h=>{X(h,{get text(){return l(A),d(s),i(()=>A["coin"+d(s).effect.coins])},children:(G,Z)=>{var j=qr();M(()=>{P(j,"src",(l(U),d(s),i(()=>U["coin"+d(s).effect.coins]))),P(j,"alt",(d(s),i(()=>"coin"+d(s).effect.coins)))}),y(G,j)},$$slots:{default:!0}})};Q(u,h=>{d(s),i(()=>d(s).effect.coins)&&h(b)})}var g=q(u,2);{var D=h=>{var G=oe(),Z=se(G);re(Z,1,()=>(d(s),i(()=>Array(d(s).effect.military))),te,(j,W)=>{X(j,{get text(){return l(A),i(()=>A.military)},children:(F,m)=>{var L=Pr();M(()=>P(L,"src",(l(U),i(()=>U.military)))),y(F,L)},$$slots:{default:!0}})}),y(h,G)};Q(g,h=>{d(s),i(()=>d(s).effect.military)&&h(D)})}var N=q(g,2);{var z=h=>{X(h,{get text(){return l(A),d(s),i(()=>A["victory"+d(s).effect.points])},children:(G,Z)=>{var j=Er();M(()=>{P(j,"src",(l(U),d(s),i(()=>U["victory"+d(s).effect.points]))),P(j,"alt",(d(s),i(()=>"victory"+d(s).effect.points)))}),y(G,j)},$$slots:{default:!0}})};Q(N,h=>{d(s),i(()=>d(s).effect.points)&&h(z)})}var V=q(N,2);{var k=h=>{var G=kr();y(h,G)};Q(V,h=>{d(s),i(()=>!d(s).effect.points&&!d(s).effect.coins&&!d(s).effect.military&&!d(s).effect.resources)&&h(k)})}R(f),R(w);var v=q(w,2);{var $=h=>{var G=Dr(),Z=C(G);{var j=F=>{var m=oe(),L=se(m);re(L,1,()=>(d(s),i(()=>Object.entries(d(s).cost))),te,(Y,_)=>{var I=ge(()=>he(d(_),2));let O=()=>d(I)[0],B=()=>d(I)[1];var H=oe(),J=se(H);{var fe=ae=>{X(ae,{get text(){return l(A),B(),i(()=>A["coin"+B()])},children:(ee,le)=>{var K=Tr();M(()=>{P(K,"src",(l(U),B(),i(()=>U["coin"+B()]))),P(K,"alt","coin"+B())}),y(ee,K)},$$slots:{default:!0}})},de=ae=>{var ee=oe(),le=se(ee);re(le,1,()=>(B(),i(()=>Array(B()))),te,(K,ue)=>{X(K,{get text(){return l(A),O(),i(()=>A[O()])},children:(Oe,De)=>{var _e=Ir();M(()=>{P(_e,"src",(l(U),O(),i(()=>U[O()]))),P(_e,"alt",O())}),y(Oe,_e)},$$slots:{default:!0}})}),y(ae,ee)};Q(J,ae=>{O()==="coins"?ae(fe):ae(de,!1)})}y(Y,H)}),y(F,m)},W=F=>{var m=Or();y(F,m)};Q(Z,F=>{d(s),i(()=>d(s).cost)?F(j):F(W,!1)})}R(G),y(h,G)};Q(v,h=>{l(e()),i(()=>p>=e().wonderStagesBuilt)&&h($)})}R(E),M(()=>{ye(E,1,`stage ${l(e()),i(()=>p<e().wonderStagesBuilt?"built":"")??""} ${l(e()),i(()=>p===e().wonderStagesBuilt?"next":"")??""}`,"svelte-vdqv07"),ye(w,1,`stage-info ${l(e()),i(()=>p<e().wonderStagesBuilt?"built":"")??""}`,"svelte-vdqv07"),ye(f,1,`stage-effect ${l(e()),i(()=>p<e().wonderStagesBuilt?"built":"")??""}`,"svelte-vdqv07")}),y(r,E)}),R(n),R(a),y(o,a),Se()}var Nr=S('<img class="svelte-cq7wjf"/>'),Hr=S('<img alt="coin" class="svelte-cq7wjf"/>'),Vr=S('<img alt="military" class="svelte-cq7wjf"/>'),Wr=S('<img alt="score" class="svelte-cq7wjf"/>'),Fr=S('<img class="svelte-cq7wjf"/>'),Yr=S('<div class="resource svelte-cq7wjf"><!> <span> </span></div>'),zr=S("<em>None</em>"),Qr=S("<li> </li>"),Zr=S("<ul></ul>"),Jr=S('<div><div class="wonder svelte-cq7wjf"><!> <div class="wonder-name svelte-cq7wjf"> </div> <div class="wonder-progress svelte-cq7wjf"><!></div></div> <div class="player-info svelte-cq7wjf"><div class="stats svelte-cq7wjf"><div class="resource svelte-cq7wjf"><!> <span> </span></div> <div class="resource svelte-cq7wjf"><!> <span> </span></div> <div class="resource svelte-cq7wjf"><!> <span> </span></div></div> <h3>Resources</h3> <div class="resources svelte-cq7wjf"></div> <h3>Buildings</h3> <div class="built-cards"><!></div></div></div>');function Kr(o,t){xe(t,!1);let e=me(t,"player",8),a=me(t,"i",8),n=me(t,"winners",8);$e();var r=Jr();let s;var p=C(r),E=C(p);{var w=_=>{var I=Nr();M(()=>{P(I,"src",(l(we),l(e()),i(()=>we[e().wonder.id]))),P(I,"alt",(l(e()),i(()=>e().wonder.name))),P(I,"title",(l(e()),i(()=>e().wonder.name)))}),y(_,I)};Q(E,_=>{l(e()),l(we),i(()=>e().wonder&&e().wonder.id&&we[e().wonder.id])&&_(w)})}var c=q(E,2),f=C(c,!0);R(c);var x=q(c,2),T=C(x);Mr(T,{get player(){return e()}}),R(x),R(p);var u=q(p,2),b=C(u),g=C(b),D=C(g);X(D,{get text(){return l(A),i(()=>A.coin)},children:(_,I)=>{var O=Hr();M(()=>P(O,"src",(l(U),i(()=>U.coin)))),y(_,O)},$$slots:{default:!0}});var N=q(D,2),z=C(N,!0);R(N),R(g);var V=q(g,2),k=C(V);X(k,{get text(){return l(A),i(()=>A.military)},children:(_,I)=>{var O=Vr();M(()=>P(O,"src",(l(U),i(()=>U.military)))),y(_,O)},$$slots:{default:!0}});var v=q(k,2),$=C(v,!0);R(v),R(V);var h=q(V,2),G=C(h);X(G,{get text(){return l(A),i(()=>A.victory)},children:(_,I)=>{var O=Wr();M(()=>P(O,"src",(l(U),i(()=>U.victory)))),y(_,O)},$$slots:{default:!0}});var Z=q(G,2),j=C(Z,!0);R(Z),R(h),R(b);var W=q(b,4);re(W,5,()=>(l(e()),i(()=>Object.entries(e().resources))),te,(_,I)=>{var O=ge(()=>he(d(I),2));let B=()=>d(O)[0],H=()=>d(O)[1];var J=Yr(),fe=C(J);X(fe,{get text(){return l(A),B(),i(()=>A[B()])},children:(ee,le)=>{var K=Fr();M(()=>{P(K,"src",(l(U),B(),i(()=>U[B()]))),P(K,"alt",B())}),y(ee,K)},$$slots:{default:!0}});var de=q(fe,2),ae=C(de,!0);R(de),R(J),M(()=>ce(ae,H())),y(_,J)}),R(W);var F=q(W,4),m=C(F);{var L=_=>{var I=zr();y(_,I)},Y=_=>{var I=Zr();re(I,5,()=>(l(e()),i(()=>e().built)),te,(O,B)=>{var H=Qr(),J=C(H,!0);R(H),M(()=>ce(J,(d(B),i(()=>d(B).name)))),y(O,H)}),R(I),y(_,I)};Q(m,_=>{l(e()),i(()=>e().built.length===0)?_(L):_(Y,!1)})}R(F),R(u),R(r),M(_=>{s=ye(r,1,"player-summary svelte-cq7wjf",null,s,_),ce(f,(l(e()),i(()=>e().wonder?.name))),ce(z,(l(e()),i(()=>e().coins))),ce($,(l(e()),i(()=>e().military))),ce(j,(l(e()),i(()=>e().score)))},[()=>({current:a()===0,winner:n().some(_=>_.name===e().name)})]),y(o,r),Se()}const Xr=[...Ie(),...st(),...ot()];function Qe(o){return Xr.find(t=>t.id===o)?.name}var es=S('<img class="svelte-m3d30b"/>'),ts=S('<img class="svelte-m3d30b"/>'),rs=S('<img alt="military" class="svelte-m3d30b"/>'),ss=S('<img class="svelte-m3d30b"/>'),os=S('<p class="card-temporary svelte-m3d30b">Temporary, removed after end of age</p>'),as=S('<img class="svelte-m3d30b"/>'),is=S('<img class="svelte-m3d30b"/>'),ns=S("<em>Free</em>"),cs=S('<div class="card-altcost svelte-m3d30b"><p class="svelte-m3d30b"> </p></div>'),ls=S('<div><div class="card-info svelte-m3d30b"><h2> </h2> <div class="card-effect svelte-m3d30b"><!> <!> <!> <!></div> <!></div> <div class="card-cost svelte-m3d30b"><!></div> <!> <div class="card-actions svelte-m3d30b"><button class="svelte-m3d30b"><strong>Build</strong></button> <button class="svelte-m3d30b"><strong>Sell</strong></button> <button class="svelte-m3d30b"><strong>Wonder</strong></button></div></div>');function fs(o,t){xe(t,!1);let e=me(t,"card",8);const a=St();function n(m){a("pick",m)}$e();var r=ls(),s=C(r),p=C(s),E=C(p,!0);R(p);var w=q(p,2),c=C(w);{var f=m=>{var L=oe(),Y=se(L);re(Y,1,()=>(l(e()),i(()=>Object.entries(e().effect.resources))),te,(_,I)=>{var O=ge(()=>he(d(I),2));let B=()=>d(O)[0],H=()=>d(O)[1];var J=oe(),fe=se(J);re(fe,1,()=>(H(),i(()=>Array(H()))),te,(de,ae)=>{X(de,{get text(){return l(A),B(),i(()=>A[B()])},children:(ee,le)=>{var K=es();M(()=>{P(K,"src",(l(U),B(),i(()=>U[B()]))),P(K,"alt",B())}),y(ee,K)},$$slots:{default:!0}})}),y(_,J)}),y(m,L)};Q(c,m=>{l(e()),i(()=>e().effect.resources)&&m(f)})}var x=q(c,2);{var T=m=>{X(m,{get text(){return l(A),l(e()),i(()=>A["coin"+e().effect.coins])},children:(L,Y)=>{var _=ts();M(()=>{P(_,"src",(l(U),l(e()),i(()=>U["coin"+e().effect.coins]))),P(_,"alt",(l(e()),i(()=>"coin"+e().effect.coins)))}),y(L,_)},$$slots:{default:!0}})};Q(x,m=>{l(e()),i(()=>e().effect.coins)&&m(T)})}var u=q(x,2);{var b=m=>{var L=oe(),Y=se(L);re(Y,1,()=>(l(e()),i(()=>Array(e().effect.military))),te,(_,I)=>{X(_,{get text(){return l(A),i(()=>A.military1)},children:(O,B)=>{var H=rs();M(()=>P(H,"src",(l(U),i(()=>U.military)))),y(O,H)},$$slots:{default:!0}})}),y(m,L)};Q(u,m=>{l(e()),i(()=>e().effect.military)&&m(b)})}var g=q(u,2);{var D=m=>{X(m,{get text(){return l(A),l(e()),i(()=>A["victory"+e().effect.points])},children:(L,Y)=>{var _=ss();M(()=>{P(_,"src",(l(U),l(e()),i(()=>U["victory"+e().effect.points]))),P(_,"alt",(l(e()),i(()=>"victory"+e().effect.points)))}),y(L,_)},$$slots:{default:!0}})};Q(g,m=>{l(e()),i(()=>e().effect.points)&&m(D)})}R(w);var N=q(w,2);{var z=m=>{var L=os();y(m,L)};Q(N,m=>{l(e()),i(()=>e().temporary)&&m(z)})}R(s);var V=q(s,2),k=C(V);{var v=m=>{var L=oe(),Y=se(L);re(Y,1,()=>(l(e()),i(()=>Object.entries(e().cost))),te,(_,I)=>{var O=ge(()=>he(d(I),2));let B=()=>d(O)[0],H=()=>d(O)[1];var J=oe(),fe=se(J);{var de=ee=>{X(ee,{get text(){return l(A),H(),i(()=>A["coin"+H()])},children:(le,K)=>{var ue=as();M(()=>{P(ue,"src",(l(U),H(),i(()=>U["coin"+H()]))),P(ue,"alt","coin"+H())}),y(le,ue)},$$slots:{default:!0}})},ae=ee=>{var le=oe(),K=se(le);re(K,1,()=>(H(),i(()=>Array(H()))),te,(ue,Oe)=>{X(ue,{get text(){return l(A),B(),i(()=>A[B()])},children:(De,_e)=>{var Ce=is();M(()=>{P(Ce,"src",(l(U),B(),i(()=>U[B()]))),P(Ce,"alt",B())}),y(De,Ce)},$$slots:{default:!0}})}),y(ee,le)};Q(fe,ee=>{B()==="coins"?ee(de):ee(ae,!1)})}y(_,J)}),y(m,L)},$=m=>{var L=ns();y(m,L)};Q(k,m=>{l(e()),i(()=>e().cost&&Object.keys(e().cost).length>0)?m(v):m($,!1)})}R(V);var h=q(V,2);{var G=m=>{var L=cs(),Y=C(L),_=C(Y,!0);R(Y),R(L),M(I=>ce(_,I),[()=>(l(Qe),l(e()),i(()=>Qe(e().altcost)))]),y(m,L)};Q(h,m=>{l(e()),i(()=>e().altcost)&&m(G)})}var Z=q(h,2),j=C(Z),W=q(j,2),F=q(W,2);R(Z),R(r),M(()=>{ye(r,1,`card-buttons card-type-${l(e()),i(()=>e().type)??""}`,"svelte-m3d30b"),ce(E,(l(e()),i(()=>e().name)))}),qe("click",j,()=>n("build")),qe("click",W,()=>n("sell")),qe("click",F,()=>n("wonder")),y(o,r),Se()}var ds=S('<img class="age-image svelte-12l2iw" width="120" height="120"/>'),us=S('<h1>Definitely Not 7 Wonders</h1> <!> <p class="message svelte-12l2iw"> </p> <div class="game-container svelte-12l2iw"><div class="player-list svelte-12l2iw"></div> <div class="cards-container svelte-12l2iw"></div></div>',1),vs=S("<p>Loading game...</p>");function bs(o,t){xe(t,!1);const[e,a]=Ct(),n=()=>Bt(Ve,"$game",e);let r=ke("Game started - Age I"),s=ke([]);function p(x,T){Ve.update(u=>{const{updatedGame:b,message:g,winners:D}=Ft(u,x,T);return Ne(r,g),Ne(s,D),b})}$e();var E=oe(),w=se(E);{var c=x=>{var T=us(),u=q(se(T),2);{var b=k=>{var v=ds();M(()=>{P(v,"src",We[n().age]),P(v,"alt","Age "+n().age)}),y(k,v)};Q(u,k=>{We[n().age]&&k(b)})}var g=q(u,2),D=C(g,!0);R(g);var N=q(g,2),z=C(N);re(z,5,()=>n().players,te,(k,v,$)=>{Kr(k,{get player(){return d(v)},i:$,get winners(){return d(s)}})}),R(z);var V=q(z,2);re(V,5,()=>n().players[0].hand,te,(k,v)=>{fs(k,{get card(){return d(v)},$$events:{pick:$=>p(d(v),$.detail)}})}),R(V),R(N),M(()=>ce(D,d(r))),y(x,T)},f=x=>{var T=vs();y(x,T)};Q(w,x=>{n()?x(c):x(f,!1)})}y(o,E),Se(),a()}export{bs as component,ws as universal};
